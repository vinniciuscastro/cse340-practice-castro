<%- include('../partials/header') %>
<main>
    <h1>Faculty Directory</h1>
    <p>Browse our faculty members by department. Click on any name to view their detailed information.</p>

    <div class="sort-options">
        <span>Sort by: </span>
        <a href="/faculty?sort=name" class="<%= currentSort === 'name' ? 'active' : '' %>">Name</a>
        <a href="/faculty?sort=department" class="<%= currentSort === 'department' ? 'active' : '' %>">Department</a>
        <a href="/faculty?sort=title" class="<%= currentSort === 'title' ? 'active' : '' %>">Title</a>
    </div>

    <div class="faculty-grid">
        <% faculty.forEach(member => {
            // Generate faculty ID from name (e.g., "Brother Jack" -> "brother-jack")
            const facultyId = member.name.toLowerCase().replace(/\s+/g, '-');
        %>
            <div class="faculty-card">
                <h3><a href="/faculty/<%= facultyId %>"><%= member.name %></a></h3>
                <p class="faculty-title"><%= member.title %></p>
                <p class="faculty-department"><%= member.department %></p>
                <p class="faculty-contact">
                    <span><%= member.office %></span><br>
                    <span><%= member.phone %></span>
                </p>
            </div>
        <% }); %>
    </div>

    <div class="navigation">
        <p><a href="/">&larr; Back to Home</a></p>
    </div>
</main>
<%- include('../partials/footer') %>
